{
  "version": 8,
  "name": "Digital Earth Pacific Coastlines",
  "glyphs": "https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf",
  "sources": {
    "coastlines": {
      "type": "vector",
      "url": "pmtiles://dep_ls_coastlines_0-7-0-53.pmtiles"
    }
  },
  "layers": [
    {
      "id": "Annual shorelines",
      "type": "line",
      "minzoom": 13,
      "maxzoom": 22,
      "source": "coastlines",
      "source-layer": "shorelines_annual",
      "paint": {
        "line-color": [
          "interpolate",
          ["linear"],
          ["get", "year"],
          1999,
          "#000004",
          2003,
          "#2f0a5b",
          2007,
          "#801f6c",
          2012,
          "#d34743",
          2017,
          "#fb9d07",
          2023,
          "#fcffa4"
        ],
        "line-width": ["match", ["get", "certainty"], "good", 2.5, 0.85],
        "line-opacity": ["match", ["get", "certainty"], "good", 1, 0.65]
      }
    },
    {
      "id": "Annual shorelines labels",
      "minzoom": 13,
      "maxzoom": 22,
      "type": "symbol",
      "source": "coastlines",
      "source-layer": "shorelines_annual",
      "layout": {
        "text-field": "{year}",
        "symbol-placement": "line",
        "text-size": 12
      },
      "paint": {
        "text-color": "white",
        "text-halo-color": "#444444",
        "text-halo-width": 2
      }
    },
    {
      "id": "Rates of change",
      "type": "circle",
      "minzoom": 10,
      "maxzoom": 13,
      "source": "coastlines",
      "source-layer": "rates_of_change",
      "filter": ["all", ["<=", "sig_time", 0.01], ["==", "certainty", "good"]],
      "paint": {
        "circle-color": [
          "step",
          ["get", "rate_time"],
          "#ca0020",
          -5,
          "#da3c43",
          -3,
          "#e97867",
          -1,
          "#f5ad8d",
          -0.5,
          "#f6cbb7",
          -0.3,
          "#f7e8e2",
          -0.01,
          "#ffffff",
          0.1,
          "#e5eef3",
          0.3,
          "#c0dcea",
          0.5,
          "#9bcae1",
          1,
          "#6baed2",
          3,
          "#3890c1",
          5,
          "#0571b0"
        ],
        "circle-radius": [
          "step",
          ["get", "rate_time"],
          8,
          -5,
          7,
          -3,
          6,
          -1,
          5,
          -0.5,
          4,
          -0.3,
          3,
          -0.01,
          2,
          0.1,
          3,
          0.3,
          4,
          0.5,
          5,
          1,
          6,
          3,
          7,
          5,
          8
        ]
      }
    },
    {
      "id": "Rates of change labels",
      "type": "symbol",
      "minzoom": 10,
      "maxzoom": 13,
      "source": "coastlines",
      "source-layer": "rates_of_change",
      "filter": ["all", ["<=", "sig_time", 0.01], ["==", "certainty", "good"]],
      "layout": {
        "text-field": [
          "concat",
          [
            "number-format",
            ["get", "rate_time"],
            { "min-fraction-digits": 1, "max-fraction-digits": 1 }
          ],
          "m, (Â±",
          [
            "number-format",
            ["*", ["get", "se_time"], 1.96],
            { "min-fraction-digits": 1, "max-fraction-digits": 1 }
          ],
          ")"
        ],
        "symbol-placement": "point",
        "text-size": 12
      },
      "paint": {
        "text-color": "white",
        "text-halo-color": "#333333",
        "text-halo-width": 2
      }
    },
    {
      "id": "Hotspots Zoom 3",
      "type": "circle",
      "minzoom": 7,
      "maxzoom": 10,
      "source": "coastlines",
      "source-layer": "hotspots_zoom_3",
      "filter": ["all", ["<=", "sig_time", 0.01], ["==", "certainty", "good"]],
      "paint": {
        "circle-color": [
          "step",
          ["get", "rate_time"],
          "#ca0020",
          -5,
          "#da3c43",
          -3,
          "#e97867",
          -1,
          "#f5ad8d",
          -0.5,
          "#f6cbb7",
          -0.3,
          "#f7e8e2",
          -0.01,
          "#ffffff",
          0.1,
          "#e5eef3",
          0.3,
          "#c0dcea",
          0.5,
          "#9bcae1",
          1,
          "#6baed2",
          3,
          "#3890c1",
          5,
          "#0571b0"
        ],
        "circle-radius": [
          "step",
          ["get", "rate_time"],
          8,
          -5,
          7,
          -3,
          6,
          -1,
          5,
          -0.5,
          4,
          -0.3,
          3,
          -0.01,
          2,
          0.1,
          3,
          0.3,
          4,
          0.5,
          5,
          1,
          6,
          3,
          7,
          5,
          8
        ]
      }
    },
    {
      "id": "Hotspots Zoom 2",
      "type": "circle",
      "minzoom": 4,
      "maxzoom": 7,
      "source": "coastlines",
      "source-layer": "hotspots_zoom_2",
      "filter": ["all", ["<=", "sig_time", 0.01], ["==", "certainty", "good"]],
      "paint": {
        "circle-color": [
          "step",
          ["get", "rate_time"],
          "#ca0020",
          -5,
          "#da3c43",
          -3,
          "#e97867",
          -1,
          "#f5ad8d",
          -0.5,
          "#f6cbb7",
          -0.3,
          "#f7e8e2",
          -0.01,
          "#ffffff",
          0.1,
          "#e5eef3",
          0.3,
          "#c0dcea",
          0.5,
          "#9bcae1",
          1,
          "#6baed2",
          3,
          "#3890c1",
          5,
          "#0571b0"
        ],
        "circle-radius": [
          "step",
          ["get", "rate_time"],
          8,
          -5,
          7,
          -3,
          6,
          -1,
          5,
          -0.5,
          4,
          -0.3,
          3,
          -0.01,
          2,
          0.1,
          3,
          0.3,
          4,
          0.5,
          5,
          1,
          6,
          3,
          7,
          5,
          8
        ]
      }
    },
    {
      "id": "Hotspots Zoom 1",
      "type": "circle",
      "minzoom": 0,
      "maxzoom": 4,
      "source": "coastlines",
      "source-layer": "hotspots_zoom_1",
      "filter": ["all", ["<=", "sig_time", 0.01], ["==", "certainty", "good"]],
      "paint": {
        "circle-color": [
          "step",
          ["get", "rate_time"],
          "#ca0020",
          -5,
          "#da3c43",
          -3,
          "#e97867",
          -1,
          "#f5ad8d",
          -0.5,
          "#f6cbb7",
          -0.3,
          "#f7e8e2",
          -0.01,
          "#ffffff",
          0.1,
          "#e5eef3",
          0.3,
          "#c0dcea",
          0.5,
          "#9bcae1",
          1,
          "#6baed2",
          3,
          "#3890c1",
          5,
          "#0571b0"
        ],
        "circle-radius": [
          "step",
          ["get", "rate_time"],
          8,
          -5,
          7,
          -3,
          6,
          -1,
          5,
          -0.5,
          4,
          -0.3,
          3,
          -0.01,
          2,
          0.1,
          3,
          0.3,
          4,
          0.5,
          5,
          1,
          6,
          3,
          7,
          5,
          8
        ]
      }
    }
  ]
}
